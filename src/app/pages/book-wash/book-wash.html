<section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
  <header class="mb-8">
    <h1 class="text-2xl sm:text-3xl font-extrabold text-gray-900">Book your wash</h1>
    <p class="mt-1 text-gray-600">Category: <span class="font-medium text-gray-900 uppercase">{{ type() }}</span></p>
  </header>

  <!-- Options -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
    <ng-container *ngFor="let opt of optionsForType()">
      <label class="border rounded-xl p-4 cursor-pointer hover:shadow-sm flex flex-col gap-1"
             [class.border-indigo-500]="optionId() === opt.id">
        <input
          class="hidden"
          type="radio"
          name="option"
          [value]="opt.id"
          [checked]="optionId() === opt.id"
          (change)="optionId.set(opt.id)"
        />
        <span class="text-base font-semibold text-gray-900">{{ opt.name }}</span>
        <span class="text-sm text-gray-600">{{ opt.desc }}</span>
        <span class="mt-2 text-sm text-gray-500">R {{ opt.price }}</span>
      </label>
    </ng-container>
  </div>

  <!-- Add-ons -->
  <div class="mt-8">
    <h2 class="text-lg font-semibold text-gray-900">Add-ons</h2>
    <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3">
      <label *ngFor="let a of addOnCatalog" class="flex items-center gap-3 border rounded-xl p-3 hover:bg-gray-50">
        <input type="checkbox"
               [checked]="addOns().includes(a.id)"
               (change)="toggleAddon(a.id, $any($event.target).checked)" />
        <span class="text-sm text-gray-900">{{ a.label }}</span>
        <span class="ml-auto text-sm text-gray-500">+ R {{ a.price }}</span>
      </label>
    </div>
  </div>

  <!-- Date/Time -->
  <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-900 mb-1">Date</label>
      <input type="date" class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500"
             [value]="date()" (input)="date.set($any($event.target).value)" />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-900 mb-1">Time</label>
      <input type="time" class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500"
             [value]="time()" (input)="time.set($any($event.target).value)" />
    </div>
  </div>

  <!-- Total + Submit -->
  <div class="mt-8 flex items-center justify-between">
    <p class="text-sm text-gray-600">Total</p>
    <p class="text-2xl font-bold text-gray-900">R {{ total }}</p>
  </div>

  <div class="mt-5 flex justify-end">
    <button (click)="submit()"
            class="inline-flex items-center rounded-lg bg-indigo-600 px-6 py-3 text-white text-sm font-semibold hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
      Continue
    </button>
  </div>
</section>
